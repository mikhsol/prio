# 1.1.11 Accessibility Requirements

**Owner**: UX Designer  
**Duration**: 1h  
**Status**: Completed  
**Date**: February 4, 2026  
**Source Stories**: [UX_DESIGN_SYSTEM.md](../../UX_DESIGN_SYSTEM.md)

---

## Purpose

This document defines accessibility requirements for Jeeves MVP, ensuring the app is usable by people with visual, motor, auditory, and cognitive disabilities. We target WCAG 2.1 AA compliance.

---

## Accessibility Standards

### Target Compliance

| Standard | Level | Status |
|----------|-------|--------|
| WCAG 2.1 | AA | Required |
| Android Accessibility Guidelines | Full | Required |
| Material Design 3 Accessibility | Full | Required |

---

## Visual Accessibility

### Color Contrast

Minimum contrast ratios (WCAG 2.1 AA):

| Element Type | Minimum Ratio | Jeeves Standard |
|--------------|---------------|-----------------|
| Normal text (<18pt) | 4.5:1 | 5:1 |
| Large text (≥18pt or 14pt bold) | 3:1 | 4.5:1 |
| UI components & graphics | 3:1 | 3:1 |

### Verified Color Combinations

| Combination | Foreground | Background | Ratio | Pass |
|-------------|------------|------------|-------|------|
| Body text | `#1F2937` | `#FEFEFE` | 15.2:1 | ✅ |
| Secondary text | `#4B5563` | `#FEFEFE` | 7.5:1 | ✅ |
| Q1 badge text | `#DC2626` | `#FEFEFE` | 4.6:1 | ✅ |
| Q2 badge text | `#F59E0B` | `#FEFEFE` | 2.8:1 | ⚠️ Use dark bg |
| Link text | `#0D9488` | `#FEFEFE` | 4.5:1 | ✅ |
| Error text | `#DC2626` | `#FEF2F2` | 4.8:1 | ✅ |

### Don't Rely on Color Alone

Every color-coded element must have an additional indicator:

| Element | Color | Additional Indicator |
|---------|-------|---------------------|
| Quadrant badge | Red/Amber/Orange/Gray | Text label + emoji |
| Goal status | Green/Yellow/Red | Text ("On track"/"At risk") |
| Overdue task | Red accent | ⚠️ icon + "Overdue" text |
| Error state | Red | ⚠️ icon + error message |
| Success | Green | ✓ icon |

### Font Scaling (Dynamic Type)

Support Android's font scaling up to 200%:

| Element | Base Size | Max Scaled | Behavior |
|---------|-----------|------------|----------|
| Headlines | 24sp | 48sp | Allow wrapping |
| Body | 16sp | 32sp | Allow wrapping |
| Labels | 14sp | 28sp | Allow wrapping |
| Minimum | 12sp | 24sp | Never below 12sp |

**Implementation**:
- Use `sp` units for all text
- Test at 200% scale
- Ensure layouts don't break with larger text
- Allow horizontal scrolling for overflows if necessary

### Dark Mode Support

Full dark mode implementation required:

| Light Mode | Dark Mode |
|------------|-----------|
| `#FEFEFE` (background) | `#1F2937` |
| `#1F2937` (text) | `#F9FAFB` |
| Quadrant colors | Same colors, darker tints for backgrounds |

---

## Motor Accessibility

### Touch Targets

Minimum touch target sizes:

| Element | Minimum Size | Jeeves Standard |
|---------|--------------|-----------------|
| Buttons | 48dp × 48dp | 48dp × 48dp |
| Checkboxes | 48dp × 48dp | 48dp × 48dp |
| List items | 48dp height | 72dp height |
| FAB | 56dp × 56dp | 56dp × 56dp |
| Icons in toolbar | 48dp × 48dp | 48dp × 48dp |

### Spacing Between Targets

Minimum 8dp spacing between touch targets to prevent accidental taps.

### Gesture Alternatives

Every gesture must have a tap alternative:

| Gesture | Tap Alternative |
|---------|-----------------|
| Swipe right to complete | Tap checkbox |
| Swipe left to delete | Tap overflow → Delete |
| Long press to reorder | Edit mode with drag handles |
| Pull to refresh | Refresh button in overflow |
| Pinch to zoom | +/- buttons |

### Keyboard Navigation

Full keyboard support for external keyboards:

| Key | Action |
|-----|--------|
| Tab | Move to next interactive element |
| Shift+Tab | Move to previous element |
| Enter | Activate focused element |
| Space | Toggle checkboxes/switches |
| Escape | Close dialogs/sheets |
| Arrow keys | Navigate lists |

---

## Screen Reader Support (TalkBack)

### Content Descriptions

Every interactive element must have a meaningful content description:

| Element | contentDescription |
|---------|-------------------|
| FAB | "Add new task" |
| Checkbox | "Mark [task title] as complete" or "Completed" |
| Quadrant badge | "[Quadrant name]. Double tap to change priority." |
| Goal progress | "[Goal title]. [X] percent complete. [Status]." |
| Menu button | "More options" |
| Back button | "Navigate back" |

### Semantic Structure

Use proper heading structure:

```kotlin
// Mark section headers as headings
Text(
    text = "DO FIRST",
    modifier = Modifier.semantics { heading() }
)
```

### Live Regions

Announce dynamic changes:

| Change | Announcement |
|--------|--------------|
| Task completed | "Task completed" |
| AI classification done | "Classified as [quadrant]" |
| Error occurred | "Error: [message]" |
| Offline/online status | "You are offline" / "Back online" |

### Focus Management

- When dialog opens → Focus moves to dialog title
- When dialog closes → Focus returns to trigger
- After completing action → Focus stays in logical place
- On error → Focus moves to error message

---

## Cognitive Accessibility

### Clear Language

- Use simple, common words
- Avoid jargon and technical terms
- Maximum 2 sentences per description
- Action labels start with verbs ("Add task", "Complete", "Delete")

### Consistent Patterns

- Same actions work the same way everywhere
- Same icons mean the same thing
- Navigation is predictable
- Undo is always available for destructive actions

### Error Prevention

- Confirm before destructive actions
- Provide undo for 5 seconds after deletion
- Validate input before submission
- Auto-save frequently

### Reduce Cognitive Load

- Show 3-5 items per section when possible
- Collapse less important sections by default
- Use progressive disclosure
- Default to most common options

---

## Testing Requirements

### Automated Testing

| Tool | Purpose | Frequency |
|------|---------|-----------|
| Accessibility Scanner (Google) | Detect contrast, touch target issues | Every build |
| Espresso Accessibility Checks | Runtime accessibility checks | Every PR |
| Compose UI Testing | Semantic node testing | Every PR |

### Manual Testing

| Test | Frequency | Owner |
|------|-----------|-------|
| TalkBack navigation | Each release | QA |
| Switch Access testing | Each release | QA |
| Large text (200%) | Each release | QA |
| High contrast mode | Each release | QA |
| Keyboard-only navigation | Each release | QA |

### User Testing

- Include users with disabilities in beta testing
- Specifically recruit: 1 vision impaired, 1 motor impaired user
- Document and address feedback

---

## Implementation Checklist

### Per Screen

- [ ] All touch targets ≥48dp
- [ ] All text has ≥4.5:1 contrast
- [ ] All interactive elements have contentDescription
- [ ] Screen has logical focus order
- [ ] Works with 200% text scaling
- [ ] Works in dark mode
- [ ] Works with TalkBack
- [ ] Works with keyboard-only

### Per Component

- [ ] Provides contentDescription
- [ ] Announces state changes
- [ ] Has visible focus indicator
- [ ] Touch target meets minimum size
- [ ] Supports disabled state visually and semantically

---

## Compose Implementation Patterns

### Content Description

```kotlin
IconButton(
    onClick = { /* action */ },
    modifier = Modifier.semantics {
        contentDescription = "Add new task"
    }
) {
    Icon(Icons.Default.Add, contentDescription = null)
}
```

### Live Announcements

```kotlin
val context = LocalContext.current
LaunchedEffect(errorMessage) {
    errorMessage?.let {
        val accessibilityManager = context.getSystemService<AccessibilityManager>()
        accessibilityManager?.let { manager ->
            if (manager.isEnabled) {
                AccessibilityEvent.obtain().apply {
                    eventType = AccessibilityEvent.TYPE_ANNOUNCEMENT
                    text.add(it)
                }.also { event ->
                    manager.sendAccessibilityEvent(event)
                }
            }
        }
    }
}
```

### Semantic Merging

```kotlin
// Merge task card for single TalkBack announcement
Row(
    modifier = Modifier.semantics(mergeDescendants = true) {
        contentDescription = "$taskTitle. $quadrantName. Due $dueDate."
    }
) {
    // Child elements
}
```

---

*Document Owner: UX Designer*  
*Last Updated: February 4, 2026*
