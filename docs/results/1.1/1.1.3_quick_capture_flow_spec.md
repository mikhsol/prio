# 1.1.3 Quick Capture Flow Specification

**Owner**: UX Designer  
**Duration**: 2h  
**Status**: Completed  
**Date**: February 4, 2026  
**Source Stories**: [TM-001](../0.3/0.3.2_task_management_user_stories.md), [TM-002](../0.3/0.3.2_task_management_user_stories.md)

---

## Purpose

Quick Capture is the fastest way to add a task. It combines natural language input with AI parsing to extract task details automatically. The entire flow must complete in under 5 seconds to respect the user's interrupted workflow.

**Design Priority**: This is the #1 most-used feature. The Quick Capture experience makes or breaks daily engagement. Every millisecond counts.

---

## Entry Points

| From | Trigger | Animation |
|------|---------|-----------|
| Any screen (FAB visible) | Tap FAB | FAB morphs into input field |
| Today Dashboard | Tap "Quick add" | Bottom sheet slides up |
| Task List | Tap FAB | FAB morphs into input field |
| Widget | Tap "+" button | Opens app with capture focused |
| Notification action | Tap "Add task" | Opens capture overlay |
| App shortcut (long press icon) | Tap "New task" | Opens app with capture focused |

---

## Flow Overview

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        QUICK CAPTURE FLOW                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                                                   โ
โ  Step 1          Step 2           Step 3          Step 4         โ
โ  โโโโโโโโ       โโโโโโโโ        โโโโโโโโ       โโโโโโโโ         โ
โ  โ FAB  โ โโโโบ  โInput โ โโโโบ   โParse โ โโโโบ โSaved โ         โ
โ  โ Tap  โ       โFocus โ        โPreviewโ      โ โ    โ         โ
โ  โโโโโโโโ       โโโโโโโโ        โโโโโโโโ       โโโโโโโโ         โ
โ                                                                   โ
โ  <100ms         Immediate        <2s           <500ms            โ
โ                 keyboard                                          โ
โ                                                                   โ
โ  TOTAL TIME TARGET: <5 seconds from FAB tap to task saved        โ
โ                                                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## Step 1: FAB Activation

### FAB States

**Resting State**:
```
         โโโโโโโโโโโ
         โ    โ    โ  56dp ร 56dp
         โโโโโโโโโโโ  Primary color
```

**Extended State** (on scroll-up or idle):
```
    โโโโโโโโโโโโโโโโโโโโโโโโ
    โ  โ   Add Task        โ  Extended FAB
    โโโโโโโโโโโโโโโโโโโโโโโโ
```

### FAB to Input Transition

Animation duration: 200ms (emphasized motion curve)

```
Frame 0 (0ms):          Frame 1 (100ms):        Frame 2 (200ms):
โโโโโโโโโโโ             โโโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ    โ    โ   โโโโบ     โ      ___         โ โโโบ โ ๐ค  Type or speak...     [โ]  โ
โโโโโโโโโโโ             โโโโโโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

Animation details:
1. FAB scales up horizontally
2. Plus icon fades out
3. Text field fades in
4. Keyboard slides up simultaneously
5. Voice button and close button fade in

---

## Step 2: Input Mode

### Layout

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ค  |                                               [โ]    โ โ โ Input field
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                  โ
โ  Quick suggestions:                                              โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โ  โ ๐ Tomorrow 9am โ โ โฐ In 1 hour    โ โ ๐ด Urgent       โ   โ
โ  โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโ   โ
โ                                                                  โ
โ  [q][w][e][r][t][y][u][i][o][p]                                 โ
โ  [a][s][d][f][g][h][j][k][l]                                    โ
โ  [โฌ][z][x][c][v][b][n][m][โซ]                                    โ
โ  [?123][  SPACE  ][.][โ]                                        โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Input Field

| Property | Value |
|----------|-------|
| Height | 56dp |
| Background | Surface Variant |
| Corner Radius | 28dp (pill shape) |
| Padding | 16dp horizontal |
| Placeholder | "Type or speak..." |
| Font | Body Large |

### Elements

| Element | Position | Behavior |
|---------|----------|----------|
| Voice Icon ๐ค | Left | Tap to start voice input |
| Text Input | Center | Auto-focused, single line |
| Close Button โ | Right | Dismisses capture, returns to previous |

### Quick Suggestion Chips

Show contextual suggestions based on time of day:

| Time | Suggestions |
|------|-------------|
| Morning (6-12) | "Tomorrow 9am", "This afternoon", "This week" |
| Afternoon (12-17) | "Tomorrow", "End of day", "This week" |
| Evening (17-22) | "Tomorrow morning", "This weekend", "Next week" |

Tapping chip adds text to input.

### Voice Input Mode

When user taps ๐ค:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ                         ๐ค                                       โ
โ                                                                  โ
โ               โโโโโโโโโโโโโโ                                    โ โ Audio visualization
โ                                                                  โ
โ                    Listening...                                  โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                             โ โ
โ  โ  "Call dentist about appointment tomorrow..."              โ โ โ Live transcription
โ  โ                                                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ                     [โ Stop]                                     โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

Voice input uses Android Speech-to-Text API:
- Streaming transcription (updates in real-time)
- Auto-stops after 2 seconds of silence
- Visual audio waveform animation
- Haptic pulse on voice detection

---

## Step 3: AI Parsing Preview

As user types or after voice input, AI parses the natural language:

### Parsing Animation

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ค  Call dentist tomorrow at 2pm                    [โ]    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                  โ
โ  ๐ค Understanding...                                             โ โ Shimmer animation
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Parsed Result

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ค  Call dentist tomorrow at 2pm                    [โ]    โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                  โ
โ  AI Interpretation:                                              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                             โ โ
โ  โ  ๐  Call dentist                                   [โ๏ธ]   โ โ โ Title (editable)
โ  โ                                                             โ โ
โ  โ  ๐  Tomorrow (Feb 5) at 2:00 PM                    [โ๏ธ]   โ โ โ Date/time
โ  โ                                                             โ โ
โ  โ  ๐ด  DO FIRST                                       [โ๏ธ]   โ โ โ Quadrant
โ  โ      "Health appointment + specific time"                   โ โ
โ  โ                                                             โ โ
โ  โ  ๐ฏ  No goal linked                                 [โ]   โ โ โ Goal (optional)
โ  โ                                                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  [Edit Details]                               [โ Create Task]   โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Parsed Elements

| Field | Parsed From | Editable |
|-------|-------------|----------|
| Title | Main action text | Yes (tap โ๏ธ) |
| Due Date | Temporal expressions | Yes (tap โ๏ธ) |
| Due Time | Time expressions | Yes (tap โ๏ธ) |
| Quadrant | AI classification | Yes (tap โ๏ธ) |
| Goal | AI suggestion | Yes (tap โ) |

### Parsing Examples

| User Input | Parsed Result |
|------------|---------------|
| "Call mom tomorrow at 5pm" | Title: "Call mom", Due: Tomorrow 5:00 PM, Q2: Schedule |
| "urgent: finish report by Friday" | Title: "Finish report", Due: Friday, Q1: Do First |
| "buy groceries" | Title: "Buy groceries", Due: None, Q4: Maybe Later |
| "dentist next Tuesday morning" | Title: "Dentist", Due: Next Tuesday 9:00 AM, Q1: Do First |
| "research vacation spots this week" | Title: "Research vacation spots", Due: This week, Q2: Schedule |

### Parsing Confidence Indicators

Show confidence subtly:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐  Tomorrow (Feb 5) at 2:00 PM                 High โฌคโฌคโฌค    โ โ High confidence
โ  ๐  Maybe next week?                            Low  โฌคโโ    โ โ Low confidence
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

Low confidence fields:
- Show with question mark or lighter styling
- Suggest user verification
- Default to "No date" if confidence <50%

### Inline Edit Behavior

Tap โ๏ธ on any field:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ      โ Tomorrow at 2:00 PM                           [โ]   โ  โ
โ      โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

- Field becomes editable inline
- Keyboard appears (or date picker for date)
- Checkmark confirms edit
- Tap outside cancels edit

---

## Step 4: Task Creation

### Save Flow

When user taps "Create Task":

1. **Haptic feedback**: Short vibration (10ms)
2. **Visual confirmation**: Checkmark animation overlays
3. **Input collapses**: Returns to FAB (200ms)
4. **Snackbar**: "Task created" with "View" action (5 seconds)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ                          โ                                       โ
โ                       Created                                    โ
โ                                                                  โ
โ                     <fade out>                                   โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

          โ Transitions to โ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ                                                    โโโโโโโโโโโ  โ
โ                                                    โ    โ    โ  โ
โ                                                    โโโโโโโโโโโ  โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  โ Task created                                        [View]   โ โ Snackbar
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### "View" Action

Tapping "View" in snackbar:
- Opens Task Detail sheet for newly created task
- Snackbar dismisses
- User can edit further if needed

---

## Fallback Behavior

### AI Parsing Fails

If LLM is unavailable or parsing fails:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ ๐ค  urgent meeting with client friday                [โ]   โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ                                                                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ                                                             โ โ
โ  โ  ๐  urgent meeting with client friday             [โ๏ธ]   โ โ โ Full text as title
โ  โ                                                             โ โ
โ  โ  ๐  No due date                                   [โ]   โ โ โ Manual add
โ  โ                                                             โ โ
โ  โ  โช  Uncategorized                                  [โ๏ธ]   โ โ โ Default
โ  โ      ๐ค AI will classify in background                      โ โ
โ  โ                                                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ                                                                  โ
โ  [Edit Details]                               [โ Create Task]   โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

Fallback rules:
1. Use entire input as title
2. No due date extracted
3. Classification runs in background (rule-based immediate, LLM deferred)
4. Show "AI will classify in background" message

### Voice Recognition Fails

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ                         ๐ค                                       โ
โ                                                                  โ
โ              Couldn't understand that                            โ
โ                                                                  โ
โ              [Try Again]  [Type Instead]                         โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## States

### Empty Input

- FAB visible (not expanded)
- No capture UI shown

### Typing Active

- Input field focused
- Keyboard visible
- Quick suggestions visible
- No preview yet

### Parsing

- "Understanding..." shown
- Shimmer animation
- 1-2 second duration typical

### Preview Ready

- Parsed fields displayed
- All fields editable
- "Create Task" button enabled

### Creating

- Button shows spinner
- Input disabled
- <500ms duration

### Created

- Checkmark animation
- Collapses to FAB
- Snackbar appears

---

## Performance Requirements

| Step | Target Time |
|------|-------------|
| FAB tap to input focus | <100ms |
| Keyboard appear | <200ms |
| AI parsing start | <500ms after typing stops |
| AI parsing complete | <2s |
| Task save | <500ms |
| **Total flow** | **<5 seconds** |

---

## Accessibility

### TalkBack

| Element | Announcement |
|---------|--------------|
| FAB | "Add new task. Double tap to open." |
| Input field | "Task input. Type or speak your task." |
| Voice button | "Voice input. Double tap to speak." |
| Parsed field | "{field}: {value}. Double tap to edit." |
| Create button | "Create task. Double tap to save." |

### Motor Accessibility

- All touch targets โฅ48dp
- Voice input alternative to typing
- Quick suggestion chips reduce typing

### Visual Accessibility

- High contrast input field
- Clear visual states
- Animations can be reduced via system settings

---

## Related Screens

| Screen | Navigation |
|--------|------------|
| [1.1.1 Task List](1.1.1_task_list_screen_spec.md) | Return after save |
| [1.1.2 Task Detail](1.1.2_task_detail_sheet_spec.md) | "Edit Details" or "View" |
| [1.1.5 Today Dashboard](1.1.5_today_dashboard_briefing_spec.md) | FAB available |

---

*Document Owner: UX Designer*  
*Last Updated: February 4, 2026*
