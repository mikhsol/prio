# Milestone 0.2.6 - Prompt Engineering Benchmark Results

**Date:** February 4, 2026  
**Device:** Google Pixel 9a (Tensor G4, 8GB RAM, Android 16)  
**Model:** Phi-3-mini-4k-instruct (Q4_K_M, 2.3GB)  
**Test Cases:** 20 (5 per quadrant)  
**Benchmark Method:** Native llama-simple binary with inline prompts

---

## Executive Summary

This benchmark evaluated 4 prompt engineering strategies for Eisenhower Matrix task classification using on-device LLM inference. **The EXPERT_PERSONA strategy achieves 70% accuracy, meeting the milestone target.**

### Results Summary

| Strategy | Accuracy | DO | SCHEDULE | DELEGATE | ELIMINATE | Target Met |
|----------|----------|-----|----------|----------|-----------|------------|
| **EXPERT_PERSONA** | **70%** | **5/5** | 4/5 | 2/5 | 3/5 | ✅ YES |
| FEW_SHOT | 45% | 2/5 | 2/5 | 4/5 | 1/5 | ❌ No |
| COMBINED | 35% | 1/5 | 1/5 | 5/5 | 0/5 | ❌ No |
| BASELINE | 20% | 0/5 | 2/5 | 1/5 | 1/5 | ❌ No |

---

## Performance Metrics

| Metric | Value | Notes |
|--------|-------|-------|
| Model Load Time | ~1.7-2.9s | First inference cold start |
| Prompt Processing | 7-21 t/s | Varies by prompt length |
| Token Generation | 3-5 t/s | Consistent |
| Classification Time | ~3-8s | Per task end-to-end |

---

## Strategy Analysis

### 1. EXPERT_PERSONA (70%) ✅ **RECOMMENDED**

**Prompt Template:**
```
<|system|>You are an Eisenhower Matrix expert. Classify tasks as DO (urgent+important), SCHEDULE (important), DELEGATE (urgent only), or ELIMINATE (neither). Answer one word only.<|end|><|user|>{TASK}<|end|><|assistant|>
```

**Strengths:**
- Perfect DO quadrant detection (100%)
- Strong SCHEDULE detection (80%)
- System prompt establishes clear context

**Weaknesses:**
- Confuses DELEGATE tasks with SCHEDULE (40% accuracy)
- Some ELIMINATE tasks classified as DO

**Per-Quadrant Results:**
| Quadrant | Correct | Accuracy | Common Error |
|----------|---------|----------|--------------|
| DO | 5/5 | 100% | - |
| SCHEDULE | 4/5 | 80% | → DO |
| DELEGATE | 2/5 | 40% | → SCHEDULE |
| ELIMINATE | 3/5 | 60% | → DO, DELEGATE |

### 2. FEW_SHOT (45%)

**Prompt Template:**
```
<|user|>"Server down customers affected"→DO. "Plan quarterly strategy"→SCHEDULE. "Order office supplies"→DELEGATE. "Watch YouTube"→ELIMINATE. Now classify: "{TASK}"<|end|><|assistant|>
```

**Analysis:**
- Strong DELEGATE detection (80%)
- Many UNKNOWN responses (parsing issues with longer outputs)
- Examples help with concrete pattern matching

### 3. COMBINED (35%)

**Prompt Template:**
```
<|system|>Eisenhower classifier. DO=crisis/deadline. SCHEDULE=important. DELEGATE=routine. ELIMINATE=timewaster.<|end|><|user|>Classify: {TASK}<|end|><|assistant|>
```

**Analysis:**
- Excellent DELEGATE detection (100%)
- Strong DELEGATE bias - classifies most things as DELEGATE
- Too terse definitions don't give enough context

### 4. BASELINE (20%)

**Prompt Template:**
```
<|user|>Task: {TASK}. Classify as DO, SCHEDULE, DELEGATE, or ELIMINATE. Answer one word.<|end|><|assistant|>
```

**Analysis:**
- Without context, model struggles with Eisenhower concepts
- Random-like distribution across quadrants

---

## Confusion Matrix (EXPERT_PERSONA)

|  | **Pred DO** | **Pred SCHEDULE** | **Pred DELEGATE** | **Pred ELIMINATE** |
|---|:---:|:---:|:---:|:---:|
| **Actual DO** | **5** | 0 | 0 | 0 |
| **Actual SCHEDULE** | 1 | **4** | 0 | 0 |
| **Actual DELEGATE** | 0 | 3 | **2** | 0 |
| **Actual ELIMINATE** | 2 | 0 | 0 | **3** |

---

## Key Findings

### 1. System Prompt is Critical
The `<|system|>` tag significantly improves performance by establishing the expert role and clear quadrant definitions.

### 2. Urgency Detection Strong, Delegation Weak
- Model excels at identifying crises (DO: 100%)
- Struggles to distinguish DELEGATE from SCHEDULE
- "Routine" vs "important" distinction is unclear to model

### 3. Performance vs Accuracy Trade-off
- Shorter prompts = faster (7-9 t/s) but lower accuracy
- Longer prompts = slower (10-15 t/s) but higher accuracy
- EXPERT_PERSONA balances both well

### 4. Comparison to Sprint 0.2

| Metric | Sprint 0.2 | Sprint 0.2.6 | Improvement |
|--------|------------|--------------|-------------|
| Baseline Accuracy | 40% | 20% | -20% (different test cases) |
| Best Accuracy | 40% | **70%** | **+30%** |
| Target (70%) Met | ❌ | ✅ | **ACHIEVED** |

---

## Recommendations

### For MVP Implementation

1. **Use EXPERT_PERSONA prompt** as default LLM strategy
2. **Hybrid approach**: Rule-based for high-confidence, LLM for edge cases
3. **Consider per-quadrant rules**:
   - DO: Use LLM (100% accurate)
   - SCHEDULE/DELEGATE: Use rule-based (LLM weak here)
   - ELIMINATE: Use LLM with rule-based fallback

### For Future Improvement

1. **Fine-tune DELEGATE vs SCHEDULE distinction** with more examples
2. **Test chain-of-thought reasoning** for ambiguous cases
3. **Consider Mistral 7B** for background refinement (80% accuracy, slower)

---

## Milestone 0.2.6 Exit Criteria Assessment

| Criterion | Target | Actual | Status |
|-----------|--------|--------|--------|
| At least one approach ≥70% | 70% | EXPERT_PERSONA: 70% | ✅ MET |
| Selected approach documented | Yes | EXPERT_PERSONA recommended | ✅ MET |
| Performance acceptable (<5s) | <5s | 3-8s per classification | ⚠️ PARTIAL |
| Fallback chain defined | Yes | Rule-based → LLM enhancement | ✅ MET |

**Milestone Status: ✅ COMPLETE** (3/4 criteria fully met, 1 partial)

---

## Files Created

- `full_benchmark.sh` - Production benchmark script
- `full_results.csv` - Raw benchmark data
- `benchmark_summary.txt` - Text summary
- This document (`0.2.6_benchmark_final_results.md`)

---

## Appendix: Test Cases

| # | Expected | Task Description |
|---|----------|------------------|
| 1 | DO | Server is down and customers cannot access |
| 2 | DO | Critical production bug causing data loss |
| 3 | DO | Tax filing deadline is tomorrow |
| 4 | DO | Board presentation starts in 2 hours |
| 5 | DO | VIP customer support ticket marked urgent |
| 6 | SCHEDULE | Plan next quarter marketing strategy |
| 7 | SCHEDULE | Read leadership book for career growth |
| 8 | SCHEDULE | Schedule annual health checkup |
| 9 | SCHEDULE | Research new project management tools |
| 10 | SCHEDULE | Write documentation for new feature |
| 11 | DELEGATE | Respond to routine HR survey |
| 12 | DELEGATE | Order office supplies running low |
| 13 | DELEGATE | Schedule team vacation calendar |
| 14 | DELEGATE | Compile weekly team status report |
| 15 | DELEGATE | Book meeting room for team sync |
| 16 | ELIMINATE | Browse social media during break |
| 17 | ELIMINATE | Reorganize email folders again |
| 18 | ELIMINATE | Watch YouTube productivity tips |
| 19 | ELIMINATE | Attend optional picnic planning meeting |
| 20 | ELIMINATE | Clean up old desktop files |

---

*Generated: February 4, 2026*  
*Benchmark runtime: ~12 minutes (80 inferences)*
